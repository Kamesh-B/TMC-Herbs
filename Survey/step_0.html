<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Stage Check • Women's Health</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    /* --- Base Setup & Resets --- */
    html { line-height: 1.15; -webkit-text-size-adjust: 100%; }
    body { margin: 0; font-family: 'Manrope', -apple-system, BlinkMacSystemFont, sans-serif; background-color: #fdfdfd; }
    *,:after,:before { box-sizing: border-box; border: 0 solid #e5e7eb; }
    html,body { height: 100%; }
    div, span, p, h1, h2, h3, ul, li, footer, section, button, a, img { margin: 0; padding: 0; border: 0; font: inherit; vertical-align: baseline; }
    ul { list-style: none; }
    button, a { background: none; cursor: pointer; text-decoration: none; }

    /* --- Main Layout --- */
    #__next { display: flex; flex-direction: column; margin: 0 auto; max-width: 430px; width: 100%; height: 100%; background-color: #ffffff; position: relative; }
    .main-content-section { flex: 1 1 auto; display: flex; justify-content: center; align-items: center; padding: 48px 24px; }
    .content-wrapper { width: 100%; max-width: 430px; }

    /* --- Header --- */
    .header-section { position: sticky; top: 0; z-index: 10; background-color: #FFFFFF; padding-top: 16px; }
    .header-container { display: flex; align-items: center; justify-content: center; padding: 16px 24px; }
    .logo { width: 80px; }
    .separator { border: none; border-top: 1px solid #EDEDF2; margin: 0; }

    /* --- Title --- */
    .title-container { display: flex; justify-content: center; margin-bottom: 24px; padding: 0 4px; }
    .title-text { color: #212124; font-size: 26px; font-weight: 700; line-height: 1.2; text-align: center; }

    /* --- Option Cards --- */
    .options-list { display: grid; grid-template-columns: 1fr; gap: 14px; }
    .option-button { display: block; border: 1px solid #EDEDF2; border-radius: 16px; padding: 16px; transition: background 0.2s, border-color 0.2s, box-shadow 0.2s; }
    .option-button:hover { background-color: #F8F8F8; border-color: #DADBE3; box-shadow: 0 1px 0 rgba(0,0,0,0.04); }
    .option-top { display: flex; align-items: center; gap: 12px; }
    .option-dot { flex: 0 0 auto; width: 18px; height: 18px; border-radius: 999px; border: 2px solid #CBCBD7; position: relative; }
    .option-button:focus-visible { outline: 2px solid #8AA7FF; outline-offset: 2px; }
    .option-title { color: #101114; font-weight: 700; font-size: 18px; letter-spacing: -0.01em; }
    .option-sub { color: #5F6166; font-size: 14px; margin-top: 6px; line-height: 1.35; }

    /* --- Footer --- */
    .footer-section { padding: 0; display: flex; justify-content: center; }
    .footer-container { width: 100%; padding: 20px 16px; display: flex; flex-direction: column; justify-content: center; gap: 10px; align-items: center; border-top: 1px solid #EDEDF2; background-color: #ffffff; }
    .footer-links { display: flex; justify-content: center; align-items: center; flex-wrap: wrap; gap: 5px; }
    .footer-link { font-size: 12px; font-weight: 400; color: #6D6E71; text-decoration: none; }
    .footer-separator { margin: 0 5px; color: #d3d3d3; }
  </style>
</head>

<body>
  <div id="__next">
    <!-- Header -->
    <section class="header-section" aria-label="Header">
      <div class="header-container">
        <img class="logo" src="https://static.wixstatic.com/media/c70145_6f9d2c9d30da4051a7678b3d1ee8e175~mv2.png/v1/fill/w_176,h_182,al_c,q_85,usm_0.66_1.00_0.01,enc_avif,quality_auto/c70145_948fe39b8daf48799a907c089cac9b9a~.png" alt="App logo" />
      </div>
        <hr class="separator" />
    </section>

    <!-- Main -->
    <section class="main-content-section" aria-labelledby="stage-title">
      <div class="content-wrapper">
        <div class="title-container">
          <h1 id="stage-title" class="title-text">Which stage would you say you’re currently in?</h1>
        </div>

        <div class="options-list" role="list">
          <a class="option-button" role="button" aria-label="Pre-menopause" href="step_1.html">
            <div class="option-top">
              <span class="option-dot" aria-hidden="true"></span>
              <span class="option-title">Pre-menopause</span>
            </div>
            <p class="option-sub">Just started feeling symptoms</p>
          </a>

          <a class="option-button" role="button" aria-label="Perimenopause" href="step_1.html">
            <div class="option-top">
              <span class="option-dot" aria-hidden="true"></span>
              <span class="option-title">Perimenopause</span>
            </div>
            <p class="option-sub">Still having cycles but irregular</p>
          </a>

          <a class="option-button" role="button" aria-label="Menopause" href="step_1.html">
            <div class="option-top">
              <span class="option-dot" aria-hidden="true"></span>
              <span class="option-title">Menopause</span>
            </div>
            <p class="option-sub">No period for 12+ months</p>
          </a>

          <a class="option-button" role="button" aria-label="Postmenopause" href="step_1.html">
            <div class="option-top">
              <span class="option-dot" aria-hidden="true"></span>
              <span class="option-title">Postmenopause</span>
            </div>
          </a>

          <a class="option-button" role="button" aria-label="Not sure" href="step_1.html">
            <div class="option-top">
              <span class="option-dot" aria-hidden="true"></span>
              <span class="option-title">Not sure</span>
            </div>
          </a>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <section class="footer-section">
      <footer class="footer-container" aria-label="Footer">
        <div class="footer-links">
          <a class="footer-link" href="#">Terms</a>
          <span class="footer-separator">•</span>
          <a class="footer-link" href="#">Privacy</a>
          <span class="footer-separator">•</span>
          <a class="footer-link" href="#">Support</a>
        </div>
      </footer>
    </section>
  </div>

  <script>
    (function(){
      const QUIZ_KEY = 'menopause-quiz';
      const QUIZ_SESSION_KEY = 'quiz_session_id';

      function getAnswers(){
        try { return JSON.parse(localStorage.getItem(QUIZ_KEY)) || {}; }
        catch { return {}; }
      }
      function setAnswers(obj){ localStorage.setItem(QUIZ_KEY, JSON.stringify(obj)); }
      function setAnswer(key, value){ const d = getAnswers(); d[key] = value; setAnswers(d); }

      function getSessionId(){
        let id = localStorage.getItem(QUIZ_SESSION_KEY);
        if (!id) {
          id = (crypto.randomUUID ? crypto.randomUUID() : ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =>
            (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)
          ));
          localStorage.setItem(QUIZ_SESSION_KEY, id);
        }
        return id;
      }

      function onChooseStage(e){
        // Gracefully handle no JS: only prevent default when we can store
        e.preventDefault();
        const el = e.currentTarget;
        const stage = (el.getAttribute('aria-label') || el.querySelector('.option-title')?.textContent || '').trim();
        const sid = getSessionId();
        setAnswer('sessionId', sid);
        setAnswer('stage', stage);

        // forward along as query params too (optional)
        const params = new URLSearchParams(window.location.search);
        params.set('stage', stage);
        params.set('sid', sid);
        window.location.href = 'step_1.html?' + params.toString();
      }

      document.querySelectorAll('.option-button').forEach(a => {
        a.addEventListener('click', onChooseStage);
        a.addEventListener('keydown', (ev)=>{
          if (ev.key === 'Enter' || ev.key === ' ') { ev.preventDefault(); a.click(); }
        });
      });
    })();
  </script>
</body>
</html>